<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href=" {{ url_for('static', path='logo-IBSF.png') }}">

  <!-- Bootstrap CSS -->
  <link href="{{ url_for('static', path='/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', path='/band.css') }}" rel="stylesheet">
  <script src="https://kit.fontawesome.com/45e38e596f.js" crossorigin="anonymous"></script>

  <title>Register Molecule</title>
</head>
<body>
  <nav class="navbar navbar-dark" style="background-color: rgb(0, 83, 159)">
    <a class="navbar-brand" href="#">BioSolutions</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="http://localhost:8000/MoleculeRegister/">ADD COMPONENT <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="http://localhost:8000/List/">LIST PAGE</a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- logo insignts biosolutions -->
  <div class="py-2 text-center">
    <img class="d-block mx-auto mb-4" src="./../static/logo-IBSF.png"  width="120" height="120">
    
    <h2 style="color: rgb(0, 83, 159)">Register a result</h2>
  </div>
  <!-- FORM  -->
  <div class="col-md-10 offset-1">

      <!--TOXICOLOGICAL PROFILE section -->
      <div class="card card-primary card-outline mt-5">
        <div class="card-header" style="background-color: rgb(0, 83, 159); color: white;">
          <h3 class="card-title m-0">TOXICOLOGICAL PROFILE</h3>
        </div>
        <div class="card-body">

          {% if message !="" %}
              <div class="modal fade" id="modal-success">
                  <div class="modal-dialog">
                    <div class="modal-content bg-success">
                      <div class="modal-header">
                        <h4 class="modal-title">Success Modal</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <p>One fine body&hellip;</p>
                      </div>
                      <div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-outline-light" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-outline-light">Save changes</button>
                      </div>
                    </div>
                    <!-- /.modal-content -->
                  </div>
                  <!-- /.modal-dialog -->
                </div>
  
                <div class="alert alert-warning alert-block" style="opacity: 0.5">
                    <button type="button" class="close" data-dismiss="alert">×</button>
                    <span class="font-weight-bold"><strong>{{ message }}</strong></span>        
                </div>
            {% endif %}

          <form action="http://localhost:8000/ResultCreate/" method="post">
              <div class="row  mt-4 mb-2">
                <div class="col-md-4 mb-3 offset-md-1">
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">CAS_Number of the molecule</label>
                    <select class="form-control" id="CAS_Number" name="CAS_Number">
                      <option>{{CAS_Number}}</option>
                    </select>
                    <!-- <input type="text" class="form-control" id="CAS_Number" name="CAS_Number" value="{{CAS_Number}}" disabled required> -->
                  </div>
                </div>
                <div class="col-md-4 mb-3 offset-md-1">
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Result type</label>
                    <select class="form-control" id="Toxicity_Type" name="Toxicity_Type" required>
                      <option>Acute oral toxicity</option>
                      <option>Acute dermal toxicity</option>
                      <option>Skin irritation</option>
                      <option>Eye irritation </option>
                      <option>Skin sensitisation </option>
                      <option>Acute toxicity by other route</option>
                      <option>Repeated dose toxicity </option>
                      <option>Repeated dose toxicity (28 days) </option>
                      <option>Sub-chronic toxicity (90 days) </option>
                      <option>Chronic toxicity (>12 months)</option>
                      <option>Ames test</option>
                      <option>Micronucleus test</option>Phototoxicity
                      <option>Phototoxicity</option>
                      <option>Reprotoxicity / teratogenicity</option>
                      <option>Carcinogenicity</option>
                      <option>Dermal/percutaneous absorption</option>Impurity 
                      <option>Impurity</option> 
                      <option>Particle size</option> 
                      <option>MLA-TK</option>
                      <option>Human data </option>
                      <option>Toxicokinetics - Metabolism </option> 
                      <option>Other</option> 
                      <option>Other data</option> 
                    </select>
                  </div>
                </div>
              </div>
              <!--prémière ligne -->
              <div class="row  mt-4 mb-2">
                <div class="col-md-8 mb-3 offset-md-2">
                  <div class="form-group">
                    <label for="AcuteOralToxicity">Result</label>
                    <textarea class="form-control" rows="10"  name="value" placeholder="Write the result here"></textarea>
                  </div>
                </div>
              </div>

              <div class="row  mt-4 mb-2">
                <div class="col-md-2 mt-5 offset-md-2 ">
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="safe_or_not" id="safe_or_not" value="safe">
                    <label class="form-check-label" for="inlineRadio1">Safe</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="safe_or_not" id="safe_or_not" value="not_safe">
                    <label class="form-check-label" for="inlineRadio2">Not Safe</label>
                  </div>
                </div>
                <div class="col-md-6 mb-4 ">
                  <div class="form-group">
                    <label for="AcuteOralToxicity"> Comments</label>
                    <textarea class="form-control" name="comment" rows="7" placeholder="Write your comments here" required></textarea>
                  </div>
                </div>

              </div>

              <!-- REFERENCE section -->
              <div class="card card-primary card-outline mt-5">
                <div class="card-header" style="background-color: rgb(0, 83, 159); color: white;">
                  <h3 class="card-title m-0">REFERENCE</h3>
                </div>
                <div class="card-body">
                  <div class="controls">
                    <a href="##" id="add_references"><i class="fa fa-plus"></i>Add a Reference</a>
                  </div>
                  <div class="inp-group">
                  </div>
                </div>
              </div>
              <!-- submit button -->
              <td>
                <button type="submit" style="background-color: rgb(0, 83, 159); color: white; text-align: center;"
                  class="btn btn-block btn-primary offset-md-8 col-md-2 mb-2 mt-5">submit</button>
              </td>

            </form>

          </div>
      </div>


  <footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1">&copy; 2022-2023 Insight BioSolutions</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="#">Privacy</a></li>
      <li class="list-inline-item"><a href="#">Terms</a></li>
      <li class="list-inline-item"><a href="#">Support</a></li>
    </ul>
  </footer>

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->

  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="./../static/bootstrap.min.js"></script>


  <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
      'use strict';

      window.addEventListener('load', function () {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');

        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function (form) {
          form.addEventListener('submit', function (event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();

  //================Add or Remove references : Dynamic input fields==================//
  const add_references = document.getElementById('add_references');
  // const remove_references = document.getElementById('remove_references');

  const input = document.querySelector(".inp-group");

  add_references.addEventListener("click", addReference);

  //Remove References
  function removeReference() {
    this.parentElement.remove();
  }

  //Add References
  function addReference() {
    const reference_number = document.createElement('input');
    reference_number.type = "number";
    reference_number.className = "reference_number";
    reference_number.placeholder = "Add a reference number";

    const reference = document.createElement("input");
    reference.type = "text";
    reference.className = "reference";
    reference.placeholder = "Add an article or URL";

    const remove_reference = document.createElement("a");
    remove_reference.className = "remove_reference";
    remove_reference.innerHTML = "<span style='color: #fff'>&times</span>";

    remove_reference.addEventListener("click", removeReference);

    const flex = document.createElement("div");
    flex.className = "flex";

    input.appendChild(flex);
    flex.appendChild(reference_number);
    flex.appendChild(reference);
    flex.appendChild(remove_reference);
  }

  </script>

</body>

</html>